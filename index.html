<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
            <title>Chat-Animator - 100% Free export to video of any size</title>
            <link rel="stylesheet" href="style.css">
                <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
                <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
                <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
        <meta name="viewport" content="width=640px, initial-scale=0.5" />
        <meta name="description" content="Chat animator is a 100% free online tool for creating videos of phone text chats. The default look uses iPhone inspired colors. You can export them for use in your movie projects or for advertising or marketing purposes, or anything really."/>
    </head>
    <body>
        <div id="wrapper" class="wrapper">
            <div id="controlsDiv">
                <div id="description">
                    <h1>Chat-Animator</h1>
                    <p>A free tool to create fake phone chat animations.
                        Export to .gif, or .webm / .mp4 video, depending on your browser support.</p>
                        <br>
                    <p>New feature! Add images to chats you compose. Also check out <a href="https://motion-tools.com">motion-tools.com</a> for line chart animator.</p>
                    <br>
                    <p><a href="https://buymeacoffee.com/william.f">Buy me a coffee.</a></p>
                </div>
                <table>
                    <tr>
                        <td>
                            <label for="animationDuration">Animation Duration:</label>
                        </td>
                        <td>
                            <input id="animationDuration" class="range" type="range" min="0.001" max="5.0" step="0.01"/>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label for="holdDuration">Hold Duration:</label>
                        </td>
                        <td>
                            <input id="holdDuration" class="range" type="range" min="0.001" max="5.0" step="0.1"/>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label for="startDelay">Start Delay:</label>
                        </td>
                        <td>
                            <input id="startDelay" class="range" type="range" min="0.001" max="2.0" step="0.01"/>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label for="bitRate">Bitrate:</label>
                        </td>
                        <td>
                            <input type="text" id="bitRate" value="2500000"/>
                        </td>
                    </tr>

                    <tr>
                        <td>
                            <label for="font">Css style font:</label>
                        </td>
                        <td>
                            <input type="text" id="font" value="32px sans-serif"/>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label for="canvasWidth">Canvas Width:</label>
                        </td>
                        <td>
                            <input type="number" class="sizeInput" id="canvasWidth" value="640"/>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label for="canvasHeight">Canvas Height:</label>
                        </td>
                        <td>
                            <input type="number" class="sizeInput" id="canvasHeight" value="1278"/>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label for="backColor">Canvas Color:</label>
                        </td>
                        <td>
                            <input type="color" class="picker" id="backColor" value="#ffffff"/>
                            <input type="range" class="range" id="backAlpha" min="0.00" max="1.0" step="0.01" value="1.0"/>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label for="showNames">Show Names:</label>
                        </td>
                        <td>
                            <input type="checkbox" checked='true' id="showNames"/>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label for="showTails">Show Tails:</label>
                        </td>
                        <td>
                            <input type="checkbox" checked='true' id="showTails"/>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label for="frameSpecify">Frame Specify:</label>
                        </td>
                        <td>
                            <input type="checkbox" id="frameSpecify"/>
                        </td>
                    </tr>
                </table>
                <div id="profilesParentDiv">
                    <div id="profiles">
                    </div>
                    <div class="horizontalCenter">
                        <button id="newProfile" class="newThing"><img src='./images/plus.svg' alt="a plus symbol"/></button>
                    </div>
                </div>
                <div id="textFieldsParent">
                    <div id="textFields">
                    </div>
                    <div class="horizontalCenter">
                        <button id="newMessage" class="newThing"><img src='./images/plus.svg' alt="a plus symbol"/></button>
                    </div>
                </div>
            </div>
            
            <div id="canvasAndSaveButtons">
                <div id="canvasParent">
                    <canvas id="animCanvas">
                        Your browser does not support the canvas element.
                    </canvas>
                </div>
                <br>
                <div id="saveButtons">
                    <button id="saveWebmButton" class="saveButton">Save .webm</button>
                    <button id="saveMp4Button" class="saveButton">Save .mp4</button>
                    <button id="saveGifButton" class="saveButton">Save .gif</button>
                </div>
                <br>
            </div><!-- controlsDiv -->
        </div><!-- wrapper -->
        <div id="shadow" style="z-index:-1;position:absolute;">
        </div>
        
        <div id="policiesDiv">
            <a href="#" class="privacyText" onclick="
          localStorage.removeItem('cookie_consent');
          location.reload();
        ">Cookie settings</a>
        <br/>
            <p class="privacyText">Privacy Policy</p>
            <p class="privacyText">We use Monetag, a third-party advertising network, which may use cookies or similar technologies to display advertisements and measure performance. These cookies are only set after you provide consent.
            You can withdraw consent at any time by clearing cookies or using the cookie settings link.</p>
        </div>
        

        
        <div id="cookie-banner" class="cookie-banner hidden">
          <p>
            We use cookies for advertising and analytics, including third-party cookies
            from Monetag. You can accept or reject non-essential cookies.
          </p>
          <button id="accept-cookies">Accept</button>
          <button id="reject-cookies">Reject</button>
        </div>

        
        <script src="./gif.js"></script>
        <script src="./gif.worker.js"></script>
        <script type="module" src="script.js"></script>
        <script src="shadow.js"></script>
        
        <!--<div id="wrapper2" class="wrapper">
            <video id="video" autoplay="true" loop muted>
                <source src="./Amorn-mimi-pixabay-overlay.mp4"/>
                Your browser does not support video elements.
            </video>
            <script>
                document.getElementById('video').play();
            </script>
        </div>-->
        
        <script>
        const CONSENT_KEY = "cookie_consent"; // "accepted" | "rejected"
        const CONSENT_TIME_KEY = "cookie_consent_time";

        function hasConsent() {
          return localStorage.getItem(CONSENT_KEY) === "accepted";
        }

        function showBannerIfNeeded() {
          const consentString = localStorage.getItem(CONSENT_KEY);
          const consentTime = localStorage.getItem(CONSENT_TIME_KEY);
          if (!consentString ||
              (consentString === "rejected" && consentTime != null && Date.now() - parseInt(consentTime) > 24 * 60 * 60 * 1000)) {
            document.getElementById("cookie-banner").classList.remove("hidden");
          }
        }

        function acceptCookies() {
          localStorage.setItem(CONSENT_KEY, "accepted");
          localStorage.setItem(CONSENT_TIME_KEY, Date.now().toString());
          document.getElementById("cookie-banner").classList.add("hidden");
          loadMonetag();
        }

        function rejectCookies() {
          localStorage.setItem(CONSENT_KEY, "rejected");
          localStorage.setItem(CONSENT_TIME_KEY, Date.now().toString());
          document.getElementById("cookie-banner").classList.add("hidden");
        }

        // Attach handlers
        document.getElementById("accept-cookies").onclick = acceptCookies;
        document.getElementById("reject-cookies").onclick = rejectCookies;

        // Run on load
        document.addEventListener("DOMContentLoaded", () => {
          showBannerIfNeeded();
          if (hasConsent()) {
            loadMonetag();
          }
        });
        </script>
        <script>
        function loadMonetag() {
          if (window.monetagLoaded) return;
          window.monetagLoaded = true;

          const script = document.createElement("script");
          script.src = "./monetag.js"; // Monetag-provided URL
          script.async = true;
          document.head.appendChild(script);
        }
        </script>

    </body>
</html>

